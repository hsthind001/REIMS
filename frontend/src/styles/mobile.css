/**
 * REIMS Mobile Responsive Styles
 * Ensures consistent mobile experience across all components
 */

/* iOS Safe Area Support */
:root {
  --safe-area-inset-top: env(safe-area-inset-top);
  --safe-area-inset-bottom: env(safe-area-inset-bottom);
  --safe-area-inset-left: env(safe-area-inset-left);
  --safe-area-inset-right: env(safe-area-inset-right);
}

.safe-area-inset-bottom {
  padding-bottom: max(0.5rem, env(safe-area-inset-bottom));
}

/* Touch-Friendly Interactive Elements */
@media (max-width: 768px) {
  /* Minimum touch target size: 44x44px (Apple HIG) */
  button, a, [role="button"], [role="link"] {
    min-width: 44px;
    min-height: 44px;
  }

  /* Disable hover effects on touch devices */
  @media (hover: none) {
    *:hover {
      /* Remove hover states that don't make sense on touch */
    }
  }

  /* Larger tap targets for important actions */
  .touch-target-large {
    min-width: 56px;
    min-height: 56px;
  }
}

/* Mobile-Optimized Scrollbars */
.scrollbar-thin {
  scrollbar-width: thin;
}

.scrollbar-thin::-webkit-scrollbar {
  width: 4px;
  height: 4px;
}

.scrollbar-thin::-webkit-scrollbar-track {
  background: transparent;
}

.scrollbar-thin::-webkit-scrollbar-thumb {
  background-color: rgba(0, 0, 0, 0.2);
  border-radius: 4px;
}

.scrollbar-thumb-neutral-slate-300::-webkit-scrollbar-thumb {
  background-color: rgb(203, 213, 225);
}

.scrollbar-track-neutral-slate-100::-webkit-scrollbar-track {
  background-color: rgb(241, 245, 249);
}

/* Mobile Card Layouts */
@media (max-width: 768px) {
  /* Force single column on mobile */
  .grid-cols-1 {
    grid-template-columns: repeat(1, minmax(0, 1fr)) !important;
  }

  /* Full-width cards */
  .mobile-card-full {
    width: 100%;
    margin-left: 0;
    margin-right: 0;
  }

  /* Reduce padding on mobile */
  .mobile-padding-sm {
    padding: 1rem;
  }

  /* Stack elements vertically */
  .mobile-stack {
    display: flex;
    flex-direction: column;
  }
}

/* Typography Scaling for Mobile */
@media (max-width: 640px) {
  h1 { font-size: 1.5rem; }
  h2 { font-size: 1.25rem; }
  h3 { font-size: 1.125rem; }
  
  .text-responsive {
    font-size: clamp(0.875rem, 2vw, 1rem);
  }
}

/* Mobile Data Table Styles */
.mobile-table-container {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  margin-left: -1rem;
  margin-right: -1rem;
  padding-left: 1rem;
  padding-right: 1rem;
}

@media (max-width: 768px) {
  .mobile-table-container {
    margin-left: -1rem;
    margin-right: -1rem;
  }

  table {
    font-size: 0.875rem;
  }

  th, td {
    padding: 0.75rem !important;
  }
}

/* Mobile Navigation Styles */
.mobile-nav-bottom {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: 30;
}

/* Prevent text selection on buttons (better mobile UX) */
button, .touch-manipulation {
  -webkit-tap-highlight-color: transparent;
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  user-select: none;
}

/* Active/Tap States */
.active\:scale-95:active {
  transform: scale(0.95);
}

/* Mobile Chart Containers */
@media (max-width: 768px) {
  .chart-container {
    height: 250px !important;
  }

  .chart-container-large {
    height: 300px !important;
  }
}

/* Mobile Modal/Dialog Styles */
@media (max-width: 768px) {
  .modal-mobile-full {
    position: fixed;
    inset: 0;
    margin: 0;
    border-radius: 0;
    max-width: 100%;
    max-height: 100%;
  }
}

/* Landscape Mode Adjustments */
@media (max-width: 768px) and (orientation: landscape) {
  .landscape-hide {
    display: none;
  }
  
  .landscape-compact {
    padding-top: 0.5rem;
    padding-bottom: 0.5rem;
  }
}

/* Pull-to-Refresh Prevention (if needed) */
body {
  overscroll-behavior-y: contain;
}

/* Mobile Input Styles */
@media (max-width: 768px) {
  input, textarea, select {
    font-size: 16px; /* Prevents iOS zoom on focus */
  }
}

/* Mobile Card Shadows */
@media (max-width: 768px) {
  .shadow-mobile {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  }

  .shadow-mobile-lg {
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
  }
}

/* Responsive Spacing */
.space-y-mobile {
  margin-top: 0;
}

.space-y-mobile > * + * {
  margin-top: 1rem;
}

@media (min-width: 768px) {
  .space-y-mobile > * + * {
    margin-top: 1.5rem;
  }
}

/* Mobile-Friendly Hover States */
@media (hover: hover) and (pointer: fine) {
  .hover-desktop:hover {
    /* Desktop hover styles */
  }
}

/* Sticky Headers for Mobile Tables */
.sticky-header {
  position: sticky;
  top: 0;
  z-index: 10;
  background-color: white;
}

.dark .sticky-header {
  background-color: rgb(30, 41, 59);
}

/* Mobile FAB (Floating Action Button) */
.fab-mobile {
  position: fixed;
  bottom: calc(64px + env(safe-area-inset-bottom));
  right: 1rem;
  width: 56px;
  height: 56px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  z-index: 20;
}

/* Mobile Bottom Sheet */
.bottom-sheet {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: white;
  border-top-left-radius: 1rem;
  border-top-right-radius: 1rem;
  padding: 1.5rem;
  padding-bottom: max(1.5rem, env(safe-area-inset-bottom));
  box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.1);
}

.dark .bottom-sheet {
  background: rgb(30, 41, 59);
}

/* Swipe Indicators */
.swipe-indicator {
  width: 40px;
  height: 4px;
  background: rgba(0, 0, 0, 0.2);
  border-radius: 2px;
  margin: 0 auto 1rem;
}

.dark .swipe-indicator {
  background: rgba(255, 255, 255, 0.2);
}

/* Mobile Card Spacing */
@media (max-width: 768px) {
  .card-grid-mobile {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1rem;
  }
}

@media (min-width: 768px) {
  .card-grid-mobile {
    grid-template-columns: repeat(2, 1fr);
    gap: 1.5rem;
  }
}

@media (min-width: 1024px) {
  .card-grid-mobile {
    grid-template-columns: repeat(3, 1fr);
  }
}

/* Prevent zoom on double-tap (iOS) */
* {
  touch-action: manipulation;
}

/* Mobile Status Bar Color */
@media (prefers-color-scheme: dark) {
  :root {
    color-scheme: dark;
  }
}

@media (prefers-color-scheme: light) {
  :root {
    color-scheme: light;
  }
}
















